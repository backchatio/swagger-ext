package $packageName$

import java.io.IOException

$imports:{ import |
import $import$
}$

/**
 *
 * NOTE: This class is auto generated by the swagger code generator program. Do not edit the class manually.
 *
 */
object $resource$ {

$methods:{ method |
    /**
     * $method.title$
     *
$if(method.description)$
     * $method.description$
     * $endif$
     * $method.arguments:{ argument |@param $argument.name$  $argument.description$
$if(argument.allowedValues)$
     *      Allowed values are - $argument.allowedValues$ $endif$ }$
$if(!method.responseVoid)$
     * @return $method.returnValue$ {@link $method.returnClassName$} $endif$
     * @throws APIException $method.exceptionDescription$
     */
$if(method.hasArguments)$
     @MethodArgumentNames(value="$method.argumentNames; separator=", "$") 
$endif$

     @throws(classOf[APIException])
     def $method.name$($method.argumentDefinitions; separator=", "$) $if(method.hasResponseValue)$:$method.returnValue$$endif$ = {

        //parse inputs
        var resourcePath = "$method.resourcePath$".replace("{format}","json")
        val method = "$method.methodType$";
        var queryParams = new HashMap[String, String]
        var headerParams = new HashMap[String, String]

$if(!method.inputModel)$
$method.queryParameters:{ argument |
        if(null != $argument.name$) {
             queryParams += "$argument.name$" -> APIInvoker.toPathValue($argument.name$)
        }
}$
$method.headerParameters:{ argument |
        if(null != $argument.name$) {
             headerParams += "$argument.name$" -> APIInvoker.toPathValue($argument.name$)
        }
}$
$method.pathParameters:{ argument |
        if(null != $argument.name$) {
            resourcePath = resourcePath.replace("{$argument.name$}", APIInvoker.toPathValue($argument.name$))
        }
}$
$endif$        
$if(method.inputModel)$        
$method.queryParameters:{ argument |
        if(null != $argument.inputModelClassArgument$ && null != $argument.methodNameFromModelClass$ ) {
             queryParams += "$argument.name$" -> APIInvoker.toPathValue($argument.methodNameFromModelClass$)
        }
}$
$method.headerParameters:{ argument |
        if(null != $argument.inputModelClassArgument$ && null != $argument.methodNameFromModelClass$ ) {
             headerParams += "$argument.name$" -> APIInvoker.toPathValue($argument.methodNameFromModelClass$)
        }
}$
$method.pathParameters:{ argument |
        if(null != $argument.inputModelClassArgument$ && null != $argument.methodNameFromModelClass$ ) {
             resourcePath = resourcePath.replace("{$argument.name$}", APIInvoker.toPathValue($argument.methodNameFromModelClass$))
        }
}$
$endif$    
        //make the API Call
$if(method.hasResponseValue)$
	$if(method.postObject)$
        val response = APIInvoker.getApiInvoker.invokeAPI(resourcePath, method, queryParams, postData, headerParams)
	$else$
        val response = APIInvoker.getApiInvoker.invokeAPI(resourcePath, method, queryParams, null, headerParams)
	$endif$
$else$
	$if(method.postObject)$
        APIInvoker.getApiInvoker.invokeAPI(resourcePath, method, queryParams, postData, headerParams)
	$else$
        APIInvoker.getApiInvoker.invokeAPI(resourcePath, method, queryParams, null, headerParams)
	$endif$
$endif$
$if(!method.responseVoid)$

$if(method.hasResponseValue)$
        if(null == response || response.length() == 0){
            null
        }
$endif$
$if(!method.returnValueList)$
$if(method.hasResponseValue)$
        //create output objects if the response has more than one object
        val responseObject = APIInvoker.deserialize(response, classOf[$method.returnClassName$]).asInstanceOf[$method.returnValue$]
        responseObject
$endif$
$endif$        
$if(method.returnValueList)$
        val typeRef = new TypeReference[Array[$method.returnClassName$]] {}
        try {
            val responseObject = APIInvoker.mapper.readValue(response, typeRef).asInstanceOf[Array[$method.returnClassName$]]
            responseObject.toList
        } catch { 
        	case ioe:IOException => {
	            val args = Array(response, typeRef.toString())
	            throw new APIException(APIExceptionCodes.ERROR_CONVERTING_JSON_TO_JAVA, args, "Error in converting response json value to java object : " + ioe.getMessage(), ioe)
	        }
	        case _ => throw new APIException(APIExceptionCodes.ERROR_CONVERTING_JSON_TO_JAVA, "Error in converting response json value to java object")
        }        
$endif$        
$endif$        
     }
}$
}
